function o(o){const{top:n,shadow:i,frame:d,selector:w}=o,a=Array.from((n?window.top:window).document.body.querySelectorAll(w)||[]);return i&&a.push(...r((n?window.top:window).document.body.getElementsByTagName("*"),w)),d&&Array.from((n?window.top:window).document.body.querySelectorAll("iframe")||[]).forEach((o=>{var n,d,l,t;a.push(...Array.from((null===(d=null===(n=o.contentDocument)||void 0===n?void 0:n.body)||void 0===d?void 0:d.querySelectorAll(w))||[])),i&&a.push(...r(null===(t=null===(l=o.contentDocument)||void 0===l?void 0:l.body)||void 0===t?void 0:t.getElementsByTagName("*"),w))})),a}function r(o,r){const n=[];return Array.from(o||[]).filter((o=>!!o.shadowRoot)).forEach((o=>{n.push(...Array.from(o.shadowRoot.querySelectorAll(r)||[]))})),n}export{o as u}